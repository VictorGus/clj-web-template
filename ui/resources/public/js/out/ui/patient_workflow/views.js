// Compiled by ClojureScript 1.10.520 {}
goog.provide('ui.patient_workflow.views');
goog.require('cljs.core');
goog.require('reagent.core');
goog.require('re_frame.core');
goog.require('ui.basic_components.spinner');
goog.require('ui.pages');
goog.require('ui.helper');
goog.require('ui.zframes.redirect');
goog.require('clojure.string');
goog.require('baking_soda.core');
goog.require('ui.patient_workflow.model');
goog.require('ui.styles');
ui.patient_workflow.views.input_style = ui.styles.style.call(null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"#search-input-wrapper","#search-input-wrapper",110498907),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"padding-top","padding-top",1929675955),"15px",new cljs.core.Keyword(null,"padding-left","padding-left",-1180879053),"35px"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"#search-btn","#search-btn",732588199),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"margin-right","margin-right",809689658),"16px"], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,".patient-grid",".patient-grid",853679537),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,".icon",".icon",1539505086),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"height","height",1025178622),"65px",new cljs.core.Keyword(null,"width","width",-384071477),"65px",new cljs.core.Keyword(null,"margin-top","margin-top",392161226),"10px",new cljs.core.Keyword(null,"padding-right","padding-right",-1250249681),"10px"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,".icon.img",".icon.img",483450963),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"fill","fill",883462889),"blue"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,".patient-record",".patient-record",852694131),new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"display","display",242065432),"flex",new cljs.core.Keyword(null,"text-decoration","text-decoration",1836813207),"none",new cljs.core.Keyword(null,"color","color",1011675173),"black",new cljs.core.Keyword(null,"padding","padding",1660304693),"8px 8px",new cljs.core.Keyword(null,"margin-top","margin-top",392161226),"12px",new cljs.core.Keyword(null,"border-radius","border-radius",419594011),".25rem",new cljs.core.Keyword(null,"border","border",1444987323),"1px solid rgba(51, 51, 51, 0.1)"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,".patient-info",".patient-info",-6980647),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"display","display",242065432),"flex",new cljs.core.Keyword(null,"flex-grow","flex-grow",1865160747),"1",new cljs.core.Keyword(null,"align-items","align-items",-267946462),"center"], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,".patient-address-label",".patient-address-label",-2018221675)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,".patient-address-value",".patient-address-value",-2141187501),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"padding","padding",1660304693),"5px 5px"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,".patient-name",".patient-name",2044467719),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"font-size","font-size",-1847940346),"20px"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,".right-wrapper",".right-wrapper",1169029716),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,".right-item",".right-item",967013642),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"text-align","text-align",1786091845),"right"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,".patient-right-value",".patient-right-value",145020377),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"padding","padding",1660304693),"5px 5px"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,".patient-record:hover",".patient-record:hover",-1184441236),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"background-color","background-color",570434026),"#e6f2ff"], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,".not-found",".not-found",271961609),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"font-size","font-size",-1847940346),"22px"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,".marker",".marker",1419708411),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"background-color","background-color",570434026),"#bff"], null)], null));
ui.patient_workflow.views.pt_name_to_string = (function ui$patient_workflow$views$pt_name_to_string(item){
return [cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"given","given",716253602).cljs$core$IFn$_invoke$arity$1(item))," ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"family","family",-1313145692).cljs$core$IFn$_invoke$arity$1(item))].join('');
});
ui.patient_workflow.views.highlight = (function ui$patient_workflow$views$highlight(q){
if(cljs.core.truth_(q)){
var sel = cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.array_seq.call(null,document.querySelectorAll(".patient-name, .pl-2, .patient-right-value")));
var q__$1 = cljs.core.into.call(null,cljs.core.PersistentVector.EMPTY,cljs.core.remove.call(null,clojure.string.blank_QMARK_,clojure.string.split.call(null,clojure.string.trim.call(null,clojure.string.replace.call(null,clojure.string.replace.call(null,q,/(%20)/," "),/[`~!@#$%^&*()_|\=?;:'\".<>\{\}\[\]\\\\/]/,"")),/\s*,| |[+]\s*/)));
return cljs.core.mapv.call(null,((function (sel,q__$1){
return (function (w){
return cljs.core.mapv.call(null,((function (sel,q__$1){
return (function (el){
return (el["innerHTML"] = clojure.string.replace.call(null,(el["innerHTML"]),cljs.core.re_pattern.call(null,["(?i)(",cljs.core.str.cljs$core$IFn$_invoke$arity$1(w),")(?!([^<]+)?>)(?!([^&]+)?;)"].join('')),((function (sel,q__$1){
return (function (p1__61381_SHARP_){
return ["<span class=\"marker\">",cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.first.call(null,p1__61381_SHARP_)),"</span>"].join('');
});})(sel,q__$1))
));
});})(sel,q__$1))
,sel);
});})(sel,q__$1))
,q__$1);
} else {
return null;
}
});
ui.patient_workflow.views.patient_grid = (function ui$patient_workflow$views$patient_grid(){
var page_data = re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("patients","index","patients/index",-161691117)], null));
return reagent.core.create_class.call(null,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"component-did-mount","component-did-mount",-1126910518),((function (page_data){
return (function (_){
return ui.patient_workflow.views.highlight.call(null,new cljs.core.Keyword(null,"q","q",689001697).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,page_data)));
});})(page_data))
,new cljs.core.Keyword(null,"reagent-render","reagent-render",-985383853),((function (page_data){
return (function (){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.patient-grid","div.patient-grid",1292786622),((cljs.core.empty_QMARK_.call(null,new cljs.core.Keyword(null,"data","data",-232669377).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,page_data))))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.container.text-center.pt-3","div.container.text-center.pt-3",189928282),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"i.fa.fa-frown-o.fa-2x","i.fa.fa-frown-o.fa-2x",-231504669),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"aria-hidden","aria-hidden",399337029),"true"], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.not-found","span.not-found",-1719522651)," Nothing is found"], null)], null)], null):null),((cljs.core.vector_QMARK_.call(null,new cljs.core.Keyword(null,"data","data",-232669377).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,page_data))))?(function (){var iter__4523__auto__ = ((function (page_data){
return (function ui$patient_workflow$views$patient_grid_$_iter__61382(s__61383){
return (new cljs.core.LazySeq(null,((function (page_data){
return (function (){
var s__61383__$1 = s__61383;
while(true){
var temp__5735__auto__ = cljs.core.seq.call(null,s__61383__$1);
if(temp__5735__auto__){
var s__61383__$2 = temp__5735__auto__;
if(cljs.core.chunked_seq_QMARK_.call(null,s__61383__$2)){
var c__4521__auto__ = cljs.core.chunk_first.call(null,s__61383__$2);
var size__4522__auto__ = cljs.core.count.call(null,c__4521__auto__);
var b__61385 = cljs.core.chunk_buffer.call(null,size__4522__auto__);
if((function (){var i__61384 = (0);
while(true){
if((i__61384 < size__4522__auto__)){
var item = cljs.core._nth.call(null,c__4521__auto__,i__61384);
cljs.core.chunk_append.call(null,b__61385,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.patient-record","a.patient-record",34269478),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),["/#/patient/",cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(item))].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.icon","div.icon",1302290135),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),((cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"gender","gender",-733930727).cljs$core$IFn$_invoke$arity$1(item),"male"))?"male.svg":((cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"gender","gender",-733930727).cljs$core$IFn$_invoke$arity$1(item),"female"))?"female.svg":null))], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.patient-info","div.patient-info",450063994),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"b.patient-name","b.patient-name",1882249741),ui.patient_workflow.views.pt_name_to_string.call(null,item)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted.pl-2","span.text-muted.pl-2",-302645363),new cljs.core.Keyword(null,"birthdate","birthdate",-534621599).cljs$core$IFn$_invoke$arity$1(item)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted","span.text-muted",-1283719962),"Line:"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.patient-address-value","span.patient-address-value",745340931),new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(item)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted","span.text-muted",-1283719962),"City:"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.patient-address-value","span.patient-address-value",745340931),new cljs.core.Keyword(null,"city","city",-393302614).cljs$core$IFn$_invoke$arity$1(item)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted","span.text-muted",-1283719962),"State:"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.patient-address-value","span.patient-address-value",745340931),new cljs.core.Keyword(null,"st","st",1455255828).cljs$core$IFn$_invoke$arity$1(item)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted","span.text-muted",-1283719962),"Country:"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.patient-address-value","span.patient-address-value",745340931),new cljs.core.Keyword(null,"country","country",312965309).cljs$core$IFn$_invoke$arity$1(item)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.right-wrapper","div.right-wrapper",-1070773581),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.right-item","div.right-item",-548913654),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted","span.text-muted",-1283719962),"Social Security Number:"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.patient-right-value","span.patient-right-value",-1974210195),cljs.core.get_in.call(null,item,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ids","ids",-998535796),new cljs.core.Keyword(null,"SB","SB",-632177349)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.right-item","div.right-item",-548913654),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted","span.text-muted",-1283719962),"Driver License:"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.patient-right-value","span.patient-right-value",-1974210195),cljs.core.get_in.call(null,item,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ids","ids",-998535796),new cljs.core.Keyword(null,"DL","DL",224113905)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.right-item","div.right-item",-548913654),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted","span.text-muted",-1283719962),"Phone:"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.patient-right-value","span.patient-right-value",-1974210195),new cljs.core.Keyword(null,"phone","phone",-763596057).cljs$core$IFn$_invoke$arity$1(item)], null)], null)], null)], null));

var G__61386 = (i__61384 + (1));
i__61384 = G__61386;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__61385),ui$patient_workflow$views$patient_grid_$_iter__61382.call(null,cljs.core.chunk_rest.call(null,s__61383__$2)));
} else {
return cljs.core.chunk_cons.call(null,cljs.core.chunk.call(null,b__61385),null);
}
} else {
var item = cljs.core.first.call(null,s__61383__$2);
return cljs.core.cons.call(null,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"a.patient-record","a.patient-record",34269478),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"href","href",-793805698),["/#/patient/",cljs.core.str.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"id","id",-1388402092).cljs$core$IFn$_invoke$arity$1(item))].join('')], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.icon","div.icon",1302290135),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),((cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"gender","gender",-733930727).cljs$core$IFn$_invoke$arity$1(item),"male"))?"male.svg":((cljs.core._EQ_.call(null,new cljs.core.Keyword(null,"gender","gender",-733930727).cljs$core$IFn$_invoke$arity$1(item),"female"))?"female.svg":null))], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.patient-info","div.patient-info",450063994),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"b.patient-name","b.patient-name",1882249741),ui.patient_workflow.views.pt_name_to_string.call(null,item)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted.pl-2","span.text-muted.pl-2",-302645363),new cljs.core.Keyword(null,"birthdate","birthdate",-534621599).cljs$core$IFn$_invoke$arity$1(item)], null),new cljs.core.PersistentVector(null, 9, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted","span.text-muted",-1283719962),"Line:"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.patient-address-value","span.patient-address-value",745340931),new cljs.core.Keyword(null,"line","line",212345235).cljs$core$IFn$_invoke$arity$1(item)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted","span.text-muted",-1283719962),"City:"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.patient-address-value","span.patient-address-value",745340931),new cljs.core.Keyword(null,"city","city",-393302614).cljs$core$IFn$_invoke$arity$1(item)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted","span.text-muted",-1283719962),"State:"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.patient-address-value","span.patient-address-value",745340931),new cljs.core.Keyword(null,"st","st",1455255828).cljs$core$IFn$_invoke$arity$1(item)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted","span.text-muted",-1283719962),"Country:"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.patient-address-value","span.patient-address-value",745340931),new cljs.core.Keyword(null,"country","country",312965309).cljs$core$IFn$_invoke$arity$1(item)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.right-wrapper","div.right-wrapper",-1070773581),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.right-item","div.right-item",-548913654),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted","span.text-muted",-1283719962),"Social Security Number:"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.patient-right-value","span.patient-right-value",-1974210195),cljs.core.get_in.call(null,item,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ids","ids",-998535796),new cljs.core.Keyword(null,"SB","SB",-632177349)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.right-item","div.right-item",-548913654),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted","span.text-muted",-1283719962),"Driver License:"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.patient-right-value","span.patient-right-value",-1974210195),cljs.core.get_in.call(null,item,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"ids","ids",-998535796),new cljs.core.Keyword(null,"DL","DL",224113905)], null))], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.right-item","div.right-item",-548913654),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.text-muted","span.text-muted",-1283719962),"Phone:"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span.patient-right-value","span.patient-right-value",-1974210195),new cljs.core.Keyword(null,"phone","phone",-763596057).cljs$core$IFn$_invoke$arity$1(item)], null)], null)], null)], null),ui$patient_workflow$views$patient_grid_$_iter__61382.call(null,cljs.core.rest.call(null,s__61383__$2)));
}
} else {
return null;
}
break;
}
});})(page_data))
,null,null));
});})(page_data))
;
return iter__4523__auto__.call(null,new cljs.core.Keyword(null,"data","data",-232669377).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,page_data)));
})():null)], null);
});})(page_data))
], null));
});
ui.patient_workflow.views.search_input = (function ui$patient_workflow$views$search_input(){
var sort_order = reagent.core.atom.call(null,false);
var page_data = re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("patients","index","patients/index",-161691117)], null));
var loading_status = re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("ui.patient-workflow.model","loading-status","ui.patient-workflow.model/loading-status",-1350898417)], null));
var dropdown_open_QMARK_ = reagent.core.atom.call(null,false);
return ((function (sort_order,page_data,loading_status,dropdown_open_QMARK_){
return (function (){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"<>","<>",1280186386),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div#search-input-wrapper","div#search-input-wrapper",-21960584),ui.patient_workflow.views.input_style,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [baking_soda.core.Container,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [baking_soda.core.Row,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"styles","styles",1954480375),"height: 48px;"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [baking_soda.core.Col,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"col-md-10"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [baking_soda.core.Input,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"type","type",1174270348),"text",new cljs.core.Keyword(null,"styles","styles",1954480375),"height: 48px;",new cljs.core.Keyword(null,"aria-describedby","aria-describedby",1826540471),"inputGroup-sizing-sm",new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Search...",new cljs.core.Keyword(null,"on-change","on-change",-732046149),((function (sort_order,page_data,loading_status,dropdown_open_QMARK_){
return (function (e){
var v = e.target.value;
return setTimeout(((function (v,sort_order,page_data,loading_status,dropdown_open_QMARK_){
return (function (){
return re_frame.core.dispatch.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("ui.zframes.redirect","set-params","ui.zframes.redirect/set-params",-1917461767),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"q","q",689001697),v], null)], null));
});})(v,sort_order,page_data,loading_status,dropdown_open_QMARK_))
,(700));
});})(sort_order,page_data,loading_status,dropdown_open_QMARK_))
], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [baking_soda.core.Button,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"id","id",-1388402092),"search-btn",new cljs.core.Keyword(null,"color","color",1011675173),"outline-primary",new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (sort_order,page_data,loading_status,dropdown_open_QMARK_){
return (function (){
return re_frame.core.dispatch.call(null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("ui.zframes.redirect","redirect","ui.zframes.redirect/redirect",868608702),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"uri","uri",-774711847),ui.helper.make_href.call(null,window.location.host,"patients/create")], null)], null));
});})(sort_order,page_data,loading_status,dropdown_open_QMARK_))
], null),"+ Create"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [baking_soda.core.Dropdown,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"isOpen","isOpen",-973300387),cljs.core.deref.call(null,dropdown_open_QMARK_),new cljs.core.Keyword(null,"on-mouse-over","on-mouse-over",-858472552),((function (sort_order,page_data,loading_status,dropdown_open_QMARK_){
return (function (){
return cljs.core.reset_BANG_.call(null,dropdown_open_QMARK_,true);
});})(sort_order,page_data,loading_status,dropdown_open_QMARK_))
,new cljs.core.Keyword(null,"toggle","toggle",1291842030),((function (sort_order,page_data,loading_status,dropdown_open_QMARK_){
return (function (){
return cljs.core.swap_BANG_.call(null,dropdown_open_QMARK_,cljs.core.not);
});})(sort_order,page_data,loading_status,dropdown_open_QMARK_))
,new cljs.core.Keyword(null,"on-mouse-out","on-mouse-out",643448647),((function (sort_order,page_data,loading_status,dropdown_open_QMARK_){
return (function (){
return cljs.core.reset_BANG_.call(null,dropdown_open_QMARK_,false);
});})(sort_order,page_data,loading_status,dropdown_open_QMARK_))
], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [baking_soda.core.DropdownToggle,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"caret","caret",-1275001854),true,new cljs.core.Keyword(null,"color","color",1011675173),"outline-primary"], null),"Sort"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [baking_soda.core.DropdownMenu,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [baking_soda.core.DropdownItem,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (sort_order,page_data,loading_status,dropdown_open_QMARK_){
return (function (){
cljs.core.swap_BANG_.call(null,sort_order,cljs.core.not);

return re_frame.core.dispatch.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("ui.patient-workflow.model","sort-patients","ui.patient-workflow.model/sort-patients",-570601794),new cljs.core.Keyword(null,"data","data",-232669377).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,page_data)),cljs.core.deref.call(null,sort_order)], null));
});})(sort_order,page_data,loading_status,dropdown_open_QMARK_))
], null),"by birthDate"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [baking_soda.core.DropdownItem,"by name"], null)], null)], null)], null),(cljs.core.truth_(cljs.core.deref.call(null,loading_status))?new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [ui.basic_components.spinner.spinner], null):null),(cljs.core.truth_(cljs.core.deref.call(null,loading_status))?null:new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [ui.patient_workflow.views.patient_grid], null))], null)], null)], null);
});
;})(sort_order,page_data,loading_status,dropdown_open_QMARK_))
});
ui.pages.reg_subs_page.call(null,ui.patient_workflow.model.index,(function (db,params){
return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [ui.patient_workflow.views.search_input], null);
}));

//# sourceMappingURL=views.js.map
